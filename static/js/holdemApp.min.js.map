{"version":3,"file":"holdemApp.min.js","sources":["../../src/client/js/app.js","../../src/client/js/controllers.js","../../src/client/js/directives.js","../../src/client/js/filters.js","../../src/client/js/services.js","../../src/client/js/constants.js"],"names":["holdemApp","angular","module","config","$routeProvider","$locationProvider","when","templateUrl","controller","otherwise","redirectTo","html5Mode","window","holdemControllers","$scope","gameService","uiService","HOLDEM_EVENTS","gameStarted","handNr","addPlayer","promptForNewPlayer","player","players","startGame","length","errorMessage","nextHand","doesHandRequireMoreAction","confirmDecision","$apply","advanceBettingRound","$on","GAME_STARTED","NEXT_HAND_DEALT","event","BETTING_ROUND_ADVANCED","bettingRound","currentBettingRound","$modalInstance","ok","stack","parseInt","close","cancel","dismiss","undefined","holdemDirectives","directive","HOLDEM_ACTIONS","$timeout","restrict","replace","scope","seatNr","link","element","playerIndex","TURN_ASSIGNED","whoseTurnItIs","addClass","find","prop","focus","removeClass","handlePlayerEvent","assignPlayer","disableAllControls","disabled","enableAllControls","playerInfo","isDealer","isSmallBlind","isBigBlind","deletePlayer","isGameStarted","isCheckingAnOption","isCheckingAnOptionForPlayer","isBettingAnOption","isBettingAnOptionForPlayer","getAmountToCall","getAmountToCallForPlayer","checkFold","recordAction","action","CHECK","e","FOLD","call","amountToCall","CALL","amount","betRaise","betRaiseAmount","isNaN","BET","RAISE","PLAYER_ADDED","PLAYER_DELETED","ROLES_ASSIGNED","roles","dealer","smallBlind","bigBlind","ACTION_PERFORMED","mostRecentAction","isCurrentBettingRoundFinished","holdemFilters","filter","actionName","HOLDEM_BETTING_ROUNDS","bettingRoundStr","PRE_FLOP","FLOP","TURN","RIVER","isCheckingPossible","isBettingPossible","holdemServices","service","$rootScope","assignRoles","currentHand","self","getCurrentHand","previousHand","getPreviousHand","isHeadsUp","finishedPlayers","dealerPosition","nextNonFinishedPlayerAfter","smallBlindPosition","bigBlindPosition","$broadcast","assignTurn","isNewBettingRound","numberOfActivePlayers","earliestNonFinishedPlayer","playerWhoActedLast","getLastAction","recordBlindActions","smallBlindAction","blinds","bigBlindAction","referencePlayer","inclusive","exclusiveCorrection","i","isPlayerFinished","foldedPlayers","indexOf","getAllActionsOfCurrentBettingRound","type","allActions","actions","result","Array","isArray","push","collectPlayerCommitments","currentAction","playerCommitments","hasOwnProperty","getBiggestCommitment","commitments","maxCommitment","currentAmount","collectUniqueCommitmentValuesOfNonFoldedPlayers","pot","commitmentValues","isCorrectCall","isCorrectBet","bet","getAmountToMinRaiseForPlayer","isCorrectRaise","raise","isCorrectCheck","check","payPlayer","PLAYER_WON_MONEY","finaliseHand","finishDroppedOutPlayers","checkForWinner","PLAYER_FINISHED","winners","gameFinished","PLAYER_WON_TOURNAMENT","this","allHands","name","splice","newHandNr","thisRoundActions","thisRoundFolds","biggestCommitment","playersInHand","reduce","playersLeft","playersWithChips","doesHandRequireShowdown","numberOfNonFinishedPlayers","numberOfNonFoldedPlayers","resolveCurrentHandByShowdown","playerRanking","sidePots","convertToSidePots","payments","potIndex","eligiblePlayers","potPaidOut","rankingIndex","tie","tieWinners","tieIndex","moneyForEach","winnerIndex","rankedPlayer","payment","resolveCurrentHandWithoutShowdown","nonFoldedPlayers","sidePot","wholePot","numberOfPots","sort","a","b","Math","max","min","previousCallerCommitment","allBetsAndRaises","ourStack","lastRaise","lastBet","secondToLastRaiseOrBet","lastRaiserCommitment","secondToLastRaiserCommitment","ourCommitment","minRaise","factory","$modal","successMessage","message","alertify","success","error","infoMessage","info","callback","modalInstance","open","animation","size","backdrop","then","okText","cancelText","positiveCallback","negativeCallback","set","labels","confirm","holdemConstants","constant"],"mappings":"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"}