{"version":3,"file":"holdemApp.min.js","sources":["../../src/client/js/app.js","../../src/client/js/controllers.js","../../src/client/js/directives.js","../../src/client/js/filters.js","../../src/client/js/services.js","../../src/client/js/constants.js"],"names":["holdemApp","angular","module","config","$routeProvider","$locationProvider","when","templateUrl","controller","otherwise","redirectTo","html5Mode","window","holdemControllers","$scope","gameService","uiService","HOLDEM_EVENTS","gameStarted","handNr","addPlayer","promptForNewPlayer","player","players","startGame","length","errorMessage","nextHand","doesHandRequireMoreAction","confirmDecision","$apply","advanceBettingRound","$on","GAME_STARTED","NEXT_HAND_DEALT","event","BETTING_ROUND_ADVANCED","bettingRound","currentBettingRound","$modalInstance","ok","stack","parseInt","close","cancel","dismiss","undefined","holdemDirectives","directive","HOLDEM_ACTIONS","$timeout","restrict","replace","scope","seatNr","link","element","playerIndex","TURN_ASSIGNED","whoseTurnItIs","addClass","find","focus","removeClass","handlePlayerEvent","assignPlayer","disableAllControls","disabled","enableAllControls","playerInfo","isDealer","isSmallBlind","isBigBlind","deletePlayer","isGameStarted","isCheckingAnOption","isCheckingAnOptionForPlayer","isBettingAnOption","isBettingAnOptionForPlayer","checkFold","recordAction","action","CHECK","e","FOLD","call","amountToCall","getAmountToCallForPlayer","CALL","amount","betRaise","betRaiseAmount","isNaN","BET","RAISE","PLAYER_ADDED","PLAYER_DELETED","ROLES_ASSIGNED","roles","dealer","smallBlind","bigBlind","ACTION_PERFORMED","mostRecentAction","isCurrentBettingRoundFinished","holdemFilters","filter","actionName","HOLDEM_BETTING_ROUNDS","bettingRoundStr","PRE_FLOP","FLOP","TURN","RIVER","isCheckingPossible","isBettingPossible","holdemServices","service","$rootScope","assignRoles","currentHand","self","getCurrentHand","previousHand","getPreviousHand","isHeadsUp","finishedPlayers","dealerPosition","nextNonFinishedPlayerAfter","smallBlindPosition","bigBlindPosition","$broadcast","assignTurn","isNewBettingRound","numberOfActivePlayers","earliestNonFinishedPlayer","playerWhoActedLast","getLastAction","recordBlindActions","smallBlindAction","blinds","bigBlindAction","referencePlayer","inclusive","exclusiveCorrection","i","isPlayerFinished","foldedPlayers","indexOf","getAllActionsOfCurrentBettingRound","type","allActions","actions","result","Array","isArray","push","collectPlayerCommitments","currentAction","playerCommitments","hasOwnProperty","getBiggestCommitment","commitments","maxCommitment","currentAmount","collectUniqueCommitmentValuesOfNonFoldedPlayers","pot","commitmentValues","isCorrectCall","isCorrectBet","bet","getAmountToMinRaiseForPlayer","isCorrectRaise","raise","isCorrectCheck","check","payPlayer","PLAYER_WON_MONEY","finaliseHand","finishDroppedOutPlayers","checkForWinner","PLAYER_FINISHED","winners","gameFinished","PLAYER_WON_TOURNAMENT","this","allHands","name","splice","newHandNr","thisRoundActions","thisRoundFolds","biggestCommitment","playersInHand","reduce","playersLeft","playersWithChips","doesHandRequireShowdown","numberOfNonFinishedPlayers","numberOfNonFoldedPlayers","resolveCurrentHandByShowdown","playerRanking","sidePots","convertToSidePots","payments","potIndex","eligiblePlayers","potPaidOut","rankingIndex","tie","tieWinners","tieIndex","moneyForEach","winnerIndex","rankedPlayer","payment","resolveCurrentHandWithoutShowdown","nonFoldedPlayers","sidePot","wholePot","numberOfPots","sort","a","b","Math","max","min","previousCallerCommitment","allBetsAndRaises","ourStack","lastRaise","lastBet","secondToLastRaiseOrBet","lastRaiserCommitment","secondToLastRaiserCommitment","ourCommitment","minRaise","factory","$modal","successMessage","message","alertify","success","error","infoMessage","info","callback","modalInstance","open","animation","size","backdrop","then","okText","cancelText","positiveCallback","negativeCallback","set","labels","confirm","holdemConstants","constant"],"mappings":"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"}