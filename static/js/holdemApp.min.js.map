{"version":3,"file":"holdemApp.min.js","sources":["../../src/client/js/app.js","../../src/client/js/controllers.js","../../src/client/js/directives.js","../../src/client/js/filters.js","../../src/client/js/services.js","../../src/client/js/constants.js"],"names":["holdemApp","angular","module","config","$routeProvider","$locationProvider","when","templateUrl","controller","otherwise","redirectTo","html5Mode","window","holdemControllers","$scope","gameService","uiService","HOLDEM_EVENTS","gameStarted","handNr","addPlayer","promptForInput","clickedOK","playerName","name","stack","players","startGame","nextHand","advanceBettingRound","$on","GAME_STARTED","NEXT_HAND_DEALT","event","BETTING_ROUND_ADVANCED","bettingRound","currentBettingRound","holdemDirectives","directive","restrict","replace","scope","seatNr","$timeout","handlePlayerEvent","player","playerIndex","assignPlayer","isDealer","isSmallBlind","isBigBlind","deletePlayer","isGameStarted","PLAYER_ADDED","PLAYER_DELETED","ROLES_ASSIGNED","roles","dealer","smallBlind","bigBlind","ACTION_PERFORMED","action","mostRecentAction","TURN_ASSIGNED","whoseTurnItIs","console","log","holdemFilters","filter","amount","HOLDEM_BETTING_ROUNDS","bettingRoundStr","PRE_FLOP","FLOP","TURN","RIVER","undefined","holdemServices","service","$rootScope","HOLDEM_ACTIONS","assignRoles","currentHand","self","getCurrentHand","previousHand","getPreviousHand","length","$broadcast","assignTurn","isNewBettingRound","numberOfActivePlayers","finishedPlayers","earliestNonFinishedPlayer","nextNonFinishedPlayerAfter","isCurrentBettingRoundFinished","playerWhoActedLast","getLastAction","recordBlindActions","smallBlindAction","BET","blinds","bigBlindAction","RAISE","recordAction","referencePlayer","inclusive","exclusiveCorrection","i","isPlayerFinished","foldedPlayers","indexOf","getAllActionsOfCurrentBettingRound","type","allActions","actions","result","Array","isArray","push","collectPlayerCommitments","currentAction","playerCommitments","CHECK","FOLD","hasOwnProperty","getBiggestCommitment","commitments","maxCommitment","currentAmount","collectUniqueCommitmentValuesOfNonFoldedPlayers","pot","commitmentValues","isCorrectCall","call","CALL","biggestCommitment","previousCallerCommitment","isCorrectBet","bet","isCorrectRaise","raise","allBetsAndRaises","lastRaiseOrBet","lastRaiserOrBetterCommitment","ourHypotheticalTotalCommitment","lastRaise","secondToLastRaiseOrBet","lastRaiserCommitment","secondToLastRaiserCommitment","minRaise","hypotheticalPlayerCommitmentWithThisRaise","raiseSize","isCorrectCheck","check","payPlayer","PLAYER_WON_MONEY","finaliseHand","finishDroppedOutPlayers","checkForWinner","PLAYER_FINISHED","winners","gameFinished","PLAYER_WON_TOURNAMENT","this","allHands","splice","newHandNr","doesHandRequireMoreAction","thisRoundActions","playersInHand","reduce","playersLeft","playersWithChips","doesHandRequireShowdown","numberOfNonFinishedPlayers","numberOfNonFoldedPlayers","resolveCurrentHandByShowdown","playerRanking","sidePots","convertToSidePots","payments","potIndex","eligiblePlayers","potPaidOut","rankingIndex","tie","tieWinners","tieIndex","moneyForEach","winnerIndex","rankedPlayer","payment","resolveCurrentHandWithoutShowdown","nonFoldedPlayers","sidePot","wholePot","numberOfPots","sort","a","b","Math","max","min","factory","successMessage","message","alertify","success","errorMessage","error","infoMessage","info","promptTxt","okBtnText","cancelBtnText","callback","set","labels","ok","cancel","prompt","holdemConstants","constant"],"mappings":"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"}