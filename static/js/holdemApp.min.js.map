{"version":3,"file":"holdemApp.min.js","sources":["../../src/client/js/app.js","../../src/client/js/controllers.js","../../src/client/js/directives.js","../../src/client/js/filters.js","../../src/client/js/services.js","../../src/client/js/constants.js"],"names":["holdemApp","angular","module","config","$routeProvider","$locationProvider","when","templateUrl","controller","otherwise","redirectTo","html5Mode","window","holdemControllers","$scope","gameService","uiService","HOLDEM_EVENTS","gameStarted","handNr","currentBlinds","addPlayer","promptForNewPlayer","player","players","startGame","length","errorMessage","nextHand","doesHandRequireMoreAction","confirmDecision","$apply","advanceBettingRound","$on","GAME_STARTED","NEXT_HAND_DEALT","event","BETTING_ROUND_ADVANCED","bettingRound","currentBettingRound","$modalInstance","ok","stack","parseInt","close","cancel","dismiss","card1","suit","abbreviation","name","code","icon","color","rank","undefined","holdemDirectives","directive","HOLDEM_ACTIONS","$timeout","restrict","replace","scope","seatNr","link","element","playerIndex","TURN_ASSIGNED","whoseTurnItIs","addClass","find","prop","focus","removeClass","handlePlayerEvent","assignPlayer","disableAllControls","disabled","enableAllControls","playerInfo","isDealer","isSmallBlind","isBigBlind","showHoleCards","promptForHoleCards","deletePlayer","isGameStarted","isCheckingAnOption","isCheckingAnOptionForPlayer","isBettingAnOption","isBettingAnOptionForPlayer","getAmountToCall","getAmountToCallForPlayer","checkFold","recordAction","action","CHECK","e","FOLD","call","amountToCall","CALL","amount","betRaise","betRaiseAmount","isNaN","BET","RAISE","PLAYER_ADDED","PLAYER_DELETED","ROLES_ASSIGNED","roles","dealer","smallBlind","bigBlind","ACTION_PERFORMED","mostRecentAction","isCurrentBettingRoundFinished","cardService","require","attrs","ngModel","madeSelection","selectedCard","attr","getCardImagePath","$setViewValue","opticalSugar","radioButtonElement","$","parent","siblings","change","suitCode","this","val","getSuitByCode","rankCode","getRankByCode","oldValue","$viewValue","trigger","suits","allSuits","ranks","allRanks","holdemFilters","filter","actionName","HOLDEM_BETTING_ROUNDS","bettingRoundStr","PRE_FLOP","FLOP","TURN","RIVER","isCheckingPossible","isBettingPossible","blinds","holdemServices","service","$rootScope","assignRoles","currentHand","self","getCurrentHand","previousHand","getPreviousHand","isHeadsUp","finishedPlayers","dealerPosition","nextNonFinishedPlayerAfter","smallBlindPosition","bigBlindPosition","$broadcast","assignTurn","isNewBettingRound","numberOfActivePlayers","earliestNonFinishedPlayer","playerWhoActedLast","getLastAction","recordBlindActions","smallBlindAction","bigBlindAction","referencePlayer","inclusive","exclusiveCorrection","i","isPlayerFinished","foldedPlayers","indexOf","getAllActionsOfCurrentBettingRound","type","allActions","actions","result","Array","isArray","push","collectPlayerCommitments","currentAction","playerCommitments","hasOwnProperty","getBiggestCommitment","commitments","maxCommitment","currentAmount","collectUniqueCommitmentValuesOfNonFoldedPlayers","pot","commitmentValues","isCorrectCall","isCorrectBet","bet","getAmountToMinRaiseForPlayer","isCorrectRaise","raise","isCorrectCheck","check","payPlayer","PLAYER_WON_MONEY","finaliseHand","finishDroppedOutPlayers","checkForWinner","PLAYER_FINISHED","winners","gameFinished","PLAYER_WON_TOURNAMENT","allHands","splice","newHandNr","board","flop","turn","river","holeCards","thisRoundActions","thisRoundFolds","biggestCommitment","playersInHand","reduce","playersLeft","playersWithChips","doesHandRequireShowdown","numberOfNonFinishedPlayers","numberOfNonFoldedPlayers","resolveCurrentHandByShowdown","playerRanking","sidePots","convertToSidePots","payments","potIndex","eligiblePlayers","potPaidOut","rankingIndex","tie","tieWinners","tieIndex","moneyForEach","winnerIndex","rankedPlayer","payment","resolveCurrentHandWithoutShowdown","nonFoldedPlayers","sidePot","wholePot","numberOfPots","sort","a","b","Math","max","min","previousCallerCommitment","allBetsAndRaises","ourStack","lastRaise","lastBet","secondToLastRaiseOrBet","lastRaiserCommitment","secondToLastRaiserCommitment","ourCommitment","minRaise","factory","$modal","successMessage","message","alertify","success","error","infoMessage","info","callback","modalInstance","open","animation","size","backdrop","then","resolve","okText","cancelText","positiveCallback","negativeCallback","set","labels","confirm","holdemConstants","constant"],"mappings":"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"}