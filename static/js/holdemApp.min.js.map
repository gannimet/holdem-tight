{"version":3,"file":"holdemApp.min.js","sources":["../../src/client/js/app.js","../../src/client/js/controllers.js","../../src/client/js/directives.js","../../src/client/js/filters.js","../../src/client/js/services.js","../../src/client/js/constants.js"],"names":["holdemApp","angular","module","config","$routeProvider","$locationProvider","when","templateUrl","controller","otherwise","redirectTo","html5Mode","window","holdemControllers","$scope","gameService","uiService","HOLDEM_EVENTS","gameStarted","handNr","currentBlinds","addPlayer","promptForNewPlayer","player","players","startGame","length","errorMessage","nextHand","doesHandRequireMoreAction","confirmDecision","$apply","advanceBettingRound","$on","GAME_STARTED","NEXT_HAND_DEALT","event","BETTING_ROUND_ADVANCED","bettingRound","currentBettingRound","$modalInstance","ok","stack","parseInt","close","cancel","dismiss","undefined","holdemDirectives","directive","HOLDEM_ACTIONS","$timeout","restrict","replace","scope","seatNr","link","element","playerIndex","TURN_ASSIGNED","whoseTurnItIs","addClass","find","prop","focus","removeClass","handlePlayerEvent","assignPlayer","disableAllControls","disabled","enableAllControls","playerInfo","isDealer","isSmallBlind","isBigBlind","showHoleCards","promptForHoleCards","deletePlayer","isGameStarted","isCheckingAnOption","isCheckingAnOptionForPlayer","isBettingAnOption","isBettingAnOptionForPlayer","getAmountToCall","getAmountToCallForPlayer","checkFold","recordAction","action","CHECK","e","FOLD","call","amountToCall","CALL","amount","betRaise","betRaiseAmount","isNaN","BET","RAISE","PLAYER_ADDED","PLAYER_DELETED","ROLES_ASSIGNED","roles","dealer","smallBlind","bigBlind","ACTION_PERFORMED","mostRecentAction","isCurrentBettingRoundFinished","cardImageService","require","attrs","ngModel","madeSelection","suit","selectedCard","rank","attr","getCardImagePath","$setViewValue","opticalSugar","radioButtonElement","$","parent","siblings","change","this","val","suits","abbreviation","name","code","icon","color","ranks","holdemFilters","filter","actionName","HOLDEM_BETTING_ROUNDS","bettingRoundStr","PRE_FLOP","FLOP","TURN","RIVER","isCheckingPossible","isBettingPossible","blinds","holdemServices","service","$rootScope","assignRoles","currentHand","self","getCurrentHand","previousHand","getPreviousHand","isHeadsUp","finishedPlayers","dealerPosition","nextNonFinishedPlayerAfter","smallBlindPosition","bigBlindPosition","$broadcast","assignTurn","isNewBettingRound","numberOfActivePlayers","earliestNonFinishedPlayer","playerWhoActedLast","getLastAction","recordBlindActions","smallBlindAction","bigBlindAction","referencePlayer","inclusive","exclusiveCorrection","i","isPlayerFinished","foldedPlayers","indexOf","getAllActionsOfCurrentBettingRound","type","allActions","actions","result","Array","isArray","push","collectPlayerCommitments","currentAction","playerCommitments","hasOwnProperty","getBiggestCommitment","commitments","maxCommitment","currentAmount","collectUniqueCommitmentValuesOfNonFoldedPlayers","pot","commitmentValues","isCorrectCall","isCorrectBet","bet","getAmountToMinRaiseForPlayer","isCorrectRaise","raise","isCorrectCheck","check","payPlayer","PLAYER_WON_MONEY","finaliseHand","finishDroppedOutPlayers","checkForWinner","PLAYER_FINISHED","winners","gameFinished","PLAYER_WON_TOURNAMENT","allHands","splice","newHandNr","board","flop","turn","river","holeCards","thisRoundActions","thisRoundFolds","biggestCommitment","playersInHand","reduce","playersLeft","playersWithChips","doesHandRequireShowdown","numberOfNonFinishedPlayers","numberOfNonFoldedPlayers","resolveCurrentHandByShowdown","playerRanking","sidePots","convertToSidePots","payments","potIndex","eligiblePlayers","potPaidOut","rankingIndex","tie","tieWinners","tieIndex","moneyForEach","winnerIndex","rankedPlayer","payment","resolveCurrentHandWithoutShowdown","nonFoldedPlayers","sidePot","wholePot","numberOfPots","sort","a","b","Math","max","min","previousCallerCommitment","allBetsAndRaises","ourStack","lastRaise","lastBet","secondToLastRaiseOrBet","lastRaiserCommitment","secondToLastRaiserCommitment","ourCommitment","minRaise","factory","$modal","successMessage","message","alertify","success","error","infoMessage","info","callback","modalInstance","open","animation","size","backdrop","then","resolve","okText","cancelText","positiveCallback","negativeCallback","set","labels","confirm","holdemConstants","constant"],"mappings":"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"}