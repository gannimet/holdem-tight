{"version":3,"file":"holdemApp.min.js","sources":["../../src/client/js/app.js","../../src/client/js/controllers.js","../../src/client/js/directives.js","../../src/client/js/filters.js","../../src/client/js/services.js","../../src/client/js/constants.js"],"names":["holdemApp","angular","module","config","$routeProvider","$locationProvider","when","templateUrl","controller","otherwise","redirectTo","html5Mode","window","holdemControllers","$scope","gameService","uiService","HOLDEM_EVENTS","gameStarted","handNr","addPlayer","promptForInput","clickedOK","playerName","name","stack","players","startGame","nextHand","advanceBettingRound","$on","GAME_STARTED","NEXT_HAND_DEALT","event","BETTING_ROUND_ADVANCED","bettingRound","currentBettingRound","holdemDirectives","directive","restrict","replace","scope","seatNr","$timeout","handlePlayerEvent","player","playerIndex","assignPlayer","isDealer","isSmallBlind","isBigBlind","deletePlayer","isGameStarted","PLAYER_ADDED","PLAYER_DELETED","ROLES_ASSIGNED","roles","dealer","smallBlind","bigBlind","ACTION_PERFORMED","action","mostRecentAction","TURN_ASSIGNED","whoseTurnItIs","console","log","holdemFilters","filter","amount","HOLDEM_BETTING_ROUNDS","bettingRoundStr","PRE_FLOP","FLOP","TURN","RIVER","undefined","holdemServices","service","$rootScope","HOLDEM_ACTIONS","assignRoles","currentHand","self","getCurrentHand","previousHand","getPreviousHand","length","$broadcast","assignTurn","isNewBettingRound","earliestNonFinishedPlayer","isCurrentBettingRoundFinished","playerWhoActedLast","getLastAction","nextNonFinishedPlayerAfter","recordBlindActions","smallBlindAction","BET","blinds","bigBlindAction","RAISE","actions","referencePlayer","inclusive","exclusiveCorrection","i","isPlayerFinished","foldedPlayers","indexOf","getAllActionsOfCurrentBettingRound","type","allActions","result","Array","isArray","push","collectPlayerCommitments","currentAction","playerCommitments","FOLD","CHECK","hasOwnProperty","getBiggestCommitment","commitments","maxCommitment","currentAmount","isCorrectCall","call","CALL","biggestCommitment","previousCallerCommitment","isCorrectBet","bet","isCorrectRaise","raise","allBetsAndRaises","lastRaiseOrBet","lastRaiserOrBetterCommitment","ourHypotheticalTotalCommitment","lastRaise","secondToLastRaiseOrBet","lastRaiserCommitment","secondToLastRaiserCommitment","minRaise","hypotheticalPlayerCommitmentWithThisRaise","raiseSize","isCorrectCheck","check","this","finishedPlayers","allHands","splice","newHandNr","recordAction","thisRoundActions","numberOfActivePlayers","referenceAmount","factory","successMessage","message","alertify","success","errorMessage","error","infoMessage","info","promptTxt","okBtnText","cancelBtnText","callback","set","labels","ok","cancel","prompt","holdemConstants","constant"],"mappings":"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"}