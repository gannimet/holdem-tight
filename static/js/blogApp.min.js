!function(){var a=angular.module("holdemApp",["ngRoute","ngAnimate","holdemFilters","holdemControllers","holdemServices","holdemDirectives","holdemConstants"]);a.config(["$routeProvider","$locationProvider",function(a,b){a.when("/game",{templateUrl:"/partials/game",controller:"GameCtrl"}).otherwise({redirectTo:"/game"}),b.html5Mode(!0)}])}(window),function(){var a=angular.module("holdemControllers",[]);a.controller("GameCtrl",["$scope","gameService","uiService","HOLDEM_EVENTS",function(a,b,c,d){a.gameStarted=!1,a.handNr=null,a.addPlayer=function(){c.promptForInput("Player name","Add player","Cancel",function(c,d){c&&(b.addPlayer({name:d,stack:1500}),a.players=b.players)})},a.startGame=function(){b.startGame()},a.nextHand=function(){b.nextHand()},a.$on(d.GAME_STARTED,function(){a.gameStarted=!0}),a.$on(d.NEXT_HAND_DEALT,function(b,c){a.handNr=c})}])}(window),function(){var a=angular.module("holdemDirectives",[]);a.directive("playerPanel",[function(){return{restrict:"E",templateUrl:"/partials/player-panel",replace:!1,scope:{seatNr:"=seatNr"},controller:["$scope","$timeout","gameService","HOLDEM_EVENTS",function(a,b,c,d){function e(a){var b=a[g];f(b)}function f(c){b(function(){a.player=c})}var g=a.seatNr-1;a.isDealer=!1,a.isSmallBlind=!1,a.isBigBlind=!1,a.deletePlayer=function(){c.deletePlayer(g)},a.isGameStarted=function(){return c.gameStarted},a.$on(d.PLAYER_ADDED,function(a,b){e(b)}),a.$on(d.PLAYER_DELETED,function(a,b){e(b)}),a.$on(d.ROLES_ASSIGNED,function(b,c){a.isDealer=g===c.dealer,a.isSmallBlind=g===c.smallBlind,a.isBigBlind=g===c.bigBlind})}]}}])}(window),function(){var a=angular.module("holdemFilters",[]);a.filter("stackSize",[function(){return function(a){return"number"==typeof a?"Stack size: "+a:void 0}}]),a.filter("handNrFilter",[function(){return function(a){return"number"==typeof a?"Hand #"+a:void 0}}])}(window),function(){var a=angular.module("holdemServices",[]);a.service("gameService",["$rootScope","HOLDEM_EVENTS",function(a,b){function c(){d.currentRoles=d.currentRoles?{dealer:(d.currentRoles.dealer+1)%d.players.length,smallBlind:(d.currentRoles.smallBlind+1)%d.players.length,bigBlind:(d.currentRoles.bigBlind+1)%d.players.length}:d.players.length>2?{dealer:0,smallBlind:1,bigBlind:2}:{dealer:0,smallBlind:0,bigBlind:1},a.$broadcast(b.ROLES_ASSIGNED,d.currentRoles)}var d=this;this.players=[],this.gameStarted=!1,this.currentRoles=null,this.handNr=null,this.addPlayer=function(c){c.name=c.name||"Player "+(this.players.length+1),c.stack=c.stack||1500,this.players.push(c),a.$broadcast(b.PLAYER_ADDED,this.players)},this.deletePlayer=function(c){this.players.splice(c,1),a.$broadcast(b.PLAYER_DELETED,this.players)},this.startGame=function(){this.gameStarted=!0,this.nextHand(),a.$broadcast(b.GAME_STARTED)},this.nextHand=function(){c(),this.handNr?this.handNr++:this.handNr=1,a.$broadcast(b.NEXT_HAND_DEALT,this.handNr)}}]),a.factory("uiService",[function(){return{successMessage:function(a){alertify.success(a)},errorMessage:function(a){alertify.error(a)},infoMessage:function(a){alertify.info(a)},promptForInput:function(a,b,c,d){alertify.set({labels:{ok:b,cancel:c}}),alertify.prompt(a,d)}}}])}(window),function(){var a=angular.module("holdemConstants",[]);a.constant("HOLDEM_EVENTS",{GAME_STARTED:"gameStarted",PLAYER_ADDED:"playerAdded",PLAYER_DELETED:"playerDeleted",NEXT_HAND_DEALT:"nextHandDealt",ROLES_ASSIGNED:"rolesAssigned"})}(window);
//# sourceMappingURL=blogApp.min.js.map